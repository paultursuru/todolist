<div class="container py-5">
  <div class="list-header">
    <h1>My list</h1>
  </div>
  <% if policy(Task).create? %>
    <%= simple_form_for(@task, remote: true) do |f| %>
      <%= f.input :title, placeholder: "new task.." %>
      <%= f.input :deadline, placeholder: "ðŸ—“", as: :string, required: true, input_html: {class: "datepicker"} %>
      <div class="task_submit"><%= f.submit "+" %></div>
    <% end %>
  <% end %>
  <div class="todo-and-done-tasks">
    <div class="to-do-tasks">
      <div class="status-infos">
        <div class="d-flex"><h5 class="mr-2">To do</h5> <p>(<%= todo(@tasks).count %>)</p></div>
        <div id="deadlines-and-priorities-toggle">
          <p id="by_deadlines" class="deadlines-priorities-btn">deadlines</p>
          <p id="by_priorities" class="deadlines-priorities-btn active">priorities</p>
        </div>
      </div>
      <div id="tasks_by_deadlines" class="task-cards d-none">
        <%= render 'tasks/tasks_todo', tasks: todo(@tasks_by_deadlines) %>
      </div>
      <div id="tasks_by_priorities" class="task-cards">
        <%= render 'tasks/tasks_todo', tasks: todo(@tasks_by_priorities) %>
      </div>
    </div>
    <div class="done-tasks">
      <div class="status-infos"><h5 class="mr-2">Done</h5><p>(<%= done(@tasks).count %>)</p></div>
      <div class="task-cards">
        <%= render 'tasks/done_tasks', tasks: done(@tasks) %>
      </div>
    </div>
    <div class="cancelled-tasks">
      <div class="status-infos"><h5 class="mr-2">Cancelled</h5><p>(<%= cancelled(@tasks).count %>)</p></div>
      <div class="task-cards">
        <%= render 'tasks/cancelled_tasks', tasks: cancelled(@tasks) %>
      </div>
    </div>
  </div>
</div>

